<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ClojureScript and React</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="theme/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="theme/css/screen.css">
    
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="theme/js/slides.js"></script>
    
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>ClojureScript and React</h1></header>
            
            
            <section><p>October 16th 2014</p>
<h2>Michiel Borkent</h2>
<p><a href="https://www.twitter.com/borkdude">@borkdude</a></p>
<h2>Vijay Kiran</h2>
<p><a href="https://www.twitter.com/vijaykiran">@vijaykiran</a></p>
<p><img alt="finalist" src="img/logo.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              1/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Schedule</h1></header>
            
            
            <section><ul>
<li>Intro</li>
<li>Clojure(Script) crash course</li>
<li>Reagent</li>
<li>Om</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              2/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Clojure</h1></header>
            
            
            <section><p><img alt="LispCycles" src="img/lisp_cycles.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              3/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Warning</h1></header>
            
            
            <section><p><img alt="function_warning" src="img/tweet-william-morgan.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              4/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Poll</h1></header>
            
            
            <section><ul>
<li>Who here has heard about Clojure(Script)?</li>
<li>Who here can program (a little bit) in Clojure(Script)?</li>
<li>Crash course?</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              5/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              6/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><h1>REPL</h1>
<ul>
<li>
<p>Interactive development: Read Eval Print Loop</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nv">user=&gt;</span>                         <span class="nv">&lt;-</span> <span class="nv">prompt</span>
</pre></div>

</li>
<li>
<p>Start one by <code>lein repl</code>
  or in IntelliJ</p>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              7/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><p>In the REPL we will cover the following basics:</p>
<ul>
<li>Clojure basics and special forms<ul>
<li>if</li>
<li>let</li>
<li>function call</li>
<li>function definition</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              8/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><h1>If</h1>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">&lt; </span><span class="p">(</span><span class="nb">rand-int </span><span class="mi">10</span><span class="p">)</span> <span class="mi">5</span><span class="p">)</span>
<span class="lineno">2</span>   <span class="s">&quot;Smaller than 5&quot;</span>
<span class="lineno">3</span>   <span class="s">&quot;Greater or equal than 5&quot;</span><span class="p">)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              9/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><h1>Let</h1>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">x</span> <span class="p">(</span><span class="nb">+ </span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
<span class="lineno">2</span>       <span class="nv">y</span> <span class="p">(</span><span class="nb">+ </span><span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">)</span>
<span class="lineno">3</span>       <span class="nv">z</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">x</span> <span class="nv">y</span><span class="p">)]</span>
<span class="lineno">4</span>   <span class="nv">z</span><span class="p">)</span> <span class="c1">;;=&gt; 21</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              10/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><h1>Function call</h1>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="nb">inc </span><span class="mi">1</span><span class="p">)</span> <span class="c1">;;=&gt; 2</span>
</pre></div>

<p>instead of</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">inc</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// 2</span>
</pre></div>

<p>It is called prefix notation</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              11/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><h1>Function definition</h1>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">def </span><span class="nv">my-fun</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span>
<span class="lineno">2</span>               <span class="p">(</span><span class="nb">+ </span><span class="nv">x</span> <span class="mi">2</span><span class="p">)))</span>
<span class="lineno">3</span> 
<span class="lineno">4</span> <span class="c1">;; same as:</span>
<span class="lineno">5</span> <span class="p">(</span><span class="kd">defn </span><span class="nv">my-fun</span> <span class="p">[</span><span class="nv">x</span><span class="p">]</span>
<span class="lineno">6</span>   <span class="p">(</span><span class="nb">+ </span><span class="nv">x</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              12/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><p>Literals, symbols and keywords</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="mi">1</span>     <span class="c1">;; integer literal</span>
<span class="lineno">2</span> <span class="s">&quot;foo&quot;</span> <span class="c1">;; string literal</span>
<span class="lineno">3</span> <span class="ss">&#39;foo</span>  <span class="c1">;; quoted symbol</span>
<span class="lineno">4</span> <span class="nv">foo</span>   <span class="c1">;; symbol (will evaluate to value bound to foo)</span>
<span class="lineno">5</span> <span class="ss">:foo</span>  <span class="c1">;; keyword, more or less a constant, often used as key in hashmap</span>
<span class="lineno">6</span> <span class="p">{</span><span class="ss">:a</span> <span class="mi">1</span>, <span class="ss">:b</span> <span class="mi">2</span><span class="p">}</span> <span class="c1">;; map literal</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              13/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><ul>
<li>
<p>Clojure collections</p>
<ul>
<li>vectors</li>
<li>maps</li>
<li>lists</li>
<li>sets</li>
</ul>
</li>
<li>
<p>Functions on data structures</p>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              14/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><p>Vectors</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">def </span><span class="nv">v1</span> <span class="p">(</span><span class="nb">vector </span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">))</span>
<span class="lineno">2</span> <span class="p">(</span><span class="k">def </span><span class="nv">v2</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">])</span>
<span class="lineno">3</span> <span class="p">(</span><span class="nb">= </span><span class="nv">v1</span> <span class="nv">v2</span><span class="p">)</span> <span class="c1">;; true</span>
<span class="lineno">4</span> <span class="p">(</span><span class="nb">get </span><span class="nv">v1</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">;; 1</span>
<span class="lineno">5</span> <span class="p">(</span><span class="nb">get </span><span class="nv">v1</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">;; 4</span>
<span class="lineno">6</span> <span class="p">(</span><span class="nb">get </span><span class="nv">v1</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">;; nil</span>
<span class="lineno">7</span> <span class="p">(</span><span class="nf">v1</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">;; 1</span>
<span class="lineno">8</span> <span class="p">(</span><span class="nf">v1</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">;; 4</span>
<span class="lineno">9</span> <span class="p">(</span><span class="nb">conj </span><span class="nv">v1</span> <span class="mi">5</span><span class="p">)</span> <span class="c1">;; [1 2 3 4 5]</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              15/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><p>Maps</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">def </span><span class="nv">m1</span> <span class="p">{</span><span class="ss">:a</span> <span class="mi">1</span> <span class="ss">:b</span> <span class="mi">2</span><span class="p">})</span>
<span class="lineno">2</span> <span class="p">(</span><span class="nb">get </span><span class="nv">m1</span> <span class="ss">:a</span><span class="p">)</span> <span class="c1">;; 1</span>
<span class="lineno">3</span> <span class="p">(</span><span class="nb">get </span><span class="nv">m1</span> <span class="ss">:b</span><span class="p">)</span> <span class="c1">;; 2</span>
<span class="lineno">4</span> <span class="p">(</span><span class="nf">m1</span> <span class="ss">:a</span><span class="p">)</span> <span class="c1">;; 1</span>
<span class="lineno">5</span> <span class="p">(</span><span class="ss">:a</span> <span class="nv">m1</span><span class="p">)</span> <span class="c1">;; 1</span>
<span class="lineno">6</span> <span class="p">(</span><span class="ss">:c</span> <span class="nv">m1</span><span class="p">)</span> <span class="c1">;; nil</span>
<span class="lineno">7</span> <span class="p">(</span><span class="nb">assoc </span><span class="nv">m1</span> <span class="ss">:c</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">;; {:c 3, :b 2, :a 1}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              16/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><p>Lists.
Used mostly for representing code (for example in macros).</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">def </span><span class="nv">expr</span> <span class="p">(</span><span class="nb">list </span><span class="ss">&#39;println</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">))</span> <span class="c1">;; (println 1 2 3), unevaluated</span>
<span class="lineno">2</span> <span class="p">(</span><span class="nb">eval </span><span class="nv">expr</span><span class="p">)</span> <span class="c1">;; prints 1 2 3, normally we don&#39;t do this</span>
<span class="lineno">3</span> <span class="p">(</span><span class="nb">conj </span><span class="p">(</span><span class="nb">list </span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">;; (4 1 2 3)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              17/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Clojure crash course</h1></header>
            
            
            <section><p>Sets</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">def </span><span class="nv">s1</span> <span class="o">#</span><span class="p">{</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">})</span>
<span class="lineno">2</span> <span class="p">(</span><span class="nb">contains? </span><span class="nv">s1</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">;;=&gt; true</span>
<span class="lineno">3</span> <span class="p">(</span><span class="nb">contains? </span><span class="nv">s1</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">;;=&gt; false</span>
<span class="lineno">4</span> <span class="p">(</span><span class="nb">conj </span><span class="nv">s1</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">;;=&gt; #{1 2 3 4}</span>
<span class="lineno">5</span> <span class="p">(</span><span class="nb">disj </span><span class="nv">s1</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">;;=&gt; #{1 2}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              18/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Sequence abstraction</h1></header>
            
            
            <section><p>Clojure collections implement a sequence interface, so you can apply general sequences functions.</p>
<p>Examples: <code>first</code>, <code>rest</code>, <code>map</code>, <code>filter</code>, <code>remove</code>.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">def </span><span class="nv">v1</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">])</span>
<span class="lineno">2</span> <span class="p">(</span><span class="nb">first </span><span class="nv">v1</span><span class="p">)</span> <span class="c1">;; 1</span>
<span class="lineno">3</span> <span class="p">(</span><span class="nb">rest </span><span class="nv">v1</span><span class="p">)</span> <span class="c1">;; (2 3 4)</span>
<span class="lineno">4</span> <span class="p">(</span><span class="nb">map inc </span><span class="nv">v1</span><span class="p">)</span> <span class="c1">;; (2 3 4 5)</span>
<span class="lineno">5</span> <span class="p">(</span><span class="nb">filter </span><span class="nv">odd?</span> <span class="nv">v1</span><span class="p">)</span> <span class="c1">;; (1 3)</span>
<span class="lineno">6</span> <span class="p">(</span><span class="nb">remove </span><span class="nv">odd?</span> <span class="nv">v1</span><span class="p">)</span> <span class="c1">;; (2 4)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              19/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Mutable state</h1></header>
            
            
            <section><p>Atoms are mutable references to immutable values.</p>
<p>One of 4 kinds of mutable references in Clojure.</p>
<p>(the others: <code>vars</code>, <code>refs</code> and <code>agents</code>)</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">def </span><span class="nv">my-atom</span> <span class="p">(</span><span class="nf">atom</span> <span class="mi">1</span><span class="p">))</span> <span class="c1">;; atom with long in it</span>
<span class="lineno">2</span> <span class="p">(</span><span class="nb">deref </span><span class="nv">my-atom</span><span class="p">)</span> <span class="c1">;; 1</span>
<span class="lineno">3</span> <span class="o">@</span><span class="nv">my-atom</span> <span class="c1">;; same, 1</span>
<span class="lineno">4</span> <span class="p">(</span><span class="nf">reset!</span> <span class="nv">my-atom</span> <span class="mi">2</span><span class="p">)</span>
<span class="lineno">5</span> <span class="o">@</span><span class="nv">my-atom</span> <span class="c1">;; now atom contains 2</span>
<span class="lineno">6</span> <span class="p">(</span><span class="nb">doseq </span><span class="p">[</span><span class="nv">i</span> <span class="p">(</span><span class="nb">range </span><span class="mi">100</span><span class="p">)]</span>
<span class="lineno">7</span>   <span class="p">(</span><span class="nf">future</span> <span class="p">(</span><span class="nf">reset!</span> <span class="nv">my-atom</span> <span class="p">(</span><span class="nb">inc </span><span class="o">@</span><span class="nv">my-atom</span><span class="p">))))</span>
<span class="lineno">8</span> <span class="o">@</span><span class="nv">my-atom</span> <span class="c1">;; 95, OMG, WHY!!!</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              20/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Mutable state</h1></header>
            
            
            <section><p>Atoms are atomically updated only via <code>swap!</code></p>
<ul>
<li><code>swap!</code> takes a function of one or more arguments</li>
<li>the function receives the old value of the atom as the first argument</li>
</ul>
<p>.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="p">(</span><span class="k">def </span><span class="nv">my-atom</span> <span class="p">(</span><span class="nf">atom</span> <span class="mi">1</span><span class="p">))</span>
<span class="lineno">2</span> <span class="p">(</span><span class="nf">swap!</span> <span class="nv">my-atom</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">old-value</span><span class="p">]</span>
<span class="lineno">3</span>                  <span class="p">(</span><span class="nb">inc </span><span class="nv">old-value</span><span class="p">)))</span>
<span class="lineno">4</span> <span class="p">(</span><span class="nf">swap!</span> <span class="nv">my-atom</span> <span class="nv">inc</span><span class="p">)</span> <span class="c1">;; same</span>
<span class="lineno">5</span> <span class="o">@</span><span class="nv">my-atom</span> <span class="c1">;; 3, inc-ed two times so far</span>
<span class="lineno">6</span> <span class="p">(</span><span class="nb">doseq </span><span class="p">[</span><span class="nv">i</span> <span class="p">(</span><span class="nb">range </span><span class="mi">100</span><span class="p">)]</span>
<span class="lineno">7</span>   <span class="p">(</span><span class="nf">future</span> <span class="p">(</span><span class="nf">reset!</span> <span class="nv">my-atom</span> <span class="p">(</span><span class="nb">inc </span><span class="o">@</span><span class="nv">my-atom</span><span class="p">))))</span>
<span class="lineno">8</span> <span class="o">@</span><span class="nv">my-atom</span> <span class="c1">;; 103, that&#39;s better</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              21/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Mutable state</h1></header>
            
            
            <section><p>More involved example</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="p">(</span><span class="k">def </span><span class="nv">game-state</span> <span class="p">(</span><span class="nf">atom</span> <span class="p">{</span><span class="ss">:player-1</span> <span class="p">{</span><span class="ss">:score</span> <span class="mi">0</span><span class="p">}</span>
<span class="lineno"> 2</span>                        <span class="ss">:player-2</span> <span class="p">{</span><span class="ss">:score</span> <span class="mi">0</span><span class="p">}}))</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="p">(</span><span class="kd">defn </span><span class="nv">increase-score</span> <span class="p">[</span><span class="nv">old-state</span> <span class="nv">player</span> <span class="nv">points</span><span class="p">]</span>
<span class="lineno"> 5</span>   <span class="p">(</span><span class="nf">update-in</span> <span class="nv">old-state</span> <span class="p">[</span><span class="nv">player</span> <span class="ss">:score</span><span class="p">]</span> <span class="nb">+ </span><span class="nv">points</span><span class="p">))</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span> <span class="c1">;; test:</span>
<span class="lineno"> 8</span> <span class="p">(</span><span class="nf">increase-score</span> <span class="p">{</span><span class="ss">:player-1</span> <span class="p">{</span><span class="ss">:score</span> <span class="mi">0</span><span class="p">}</span>
<span class="lineno"> 9</span>                  <span class="ss">:player-2</span> <span class="p">{</span><span class="ss">:score</span> <span class="mi">0</span><span class="p">}}</span>
<span class="lineno">10</span>                 <span class="ss">:player-1</span>
<span class="lineno">11</span>                 <span class="mi">20</span><span class="p">)</span>
<span class="lineno">12</span> <span class="c1">;; =&gt; {:player-2 {:score 0}, :player-1 {:score 20}}</span>
<span class="lineno">13</span> 
<span class="lineno">14</span> <span class="p">(</span><span class="nf">swap!</span> <span class="nv">game-state</span> <span class="nv">increase-score</span> <span class="ss">:player-1</span> <span class="mi">10</span><span class="p">)</span>
<span class="lineno">15</span> <span class="p">(</span><span class="nf">swap!</span> <span class="nv">game-state</span> <span class="nv">increase-score</span> <span class="ss">:player-2</span> <span class="mi">20</span><span class="p">)</span>
<span class="lineno">16</span> <span class="o">@</span><span class="nv">game-state</span> <span class="c1">;; {:player-2 {:score 20}, :player-1 {:score 10}}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              22/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>User interface</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              23/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>User interface</h1></header>
            
            
            <section><ul>
<li>Clojurescript<ul>
<li>Clojure compiled to javascript</li>
</ul>
</li>
<li>
<p>React</p>
<ul>
<li>V of MVC</li>
<li>Component based</li>
<li>Components can have props and inner state</li>
<li>Virtual DOM</li>
</ul>
</li>
<li>
<p>ClojureScript abstractions</p>
<ul>
<li>Om</li>
<li>Reagent</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              24/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>ClojureScript abstractions</h1></header>
            
            
            <section><h2>Om</h2>
<ul>
<li>Opinionated library by David Nolen</li>
<li>App-state based on one atom</li>
<li>Cursor based access (kind of a functional lens / zipper)</li>
<li>Components can access shared state, app state or local state</li>
<li>Communication between components via app-state, handlers or core.async</li>
<li>Explicit hooks to React lifecycle</li>
<li>Follows React semantics closely (e.g. local state changes cause re-rendering)</li>
</ul>
<p>See <a href="https://github.com/swannodette/om/tree/master/examples">examples</a></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              25/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>ClojureScript abstractions</h1></header>
            
            
            <section><h2>Reagent</h2>
<ul>
<li>Minimalistic ClojureScript interface to React</li>
<li>State is saved in RAtom, like clojure.core/atom, but keeps track of derefs</li>
<li>Components can deref RAtom and will be re-rendered when RAtom changes</li>
<li>Less verbose than Om</li>
<li>You can hook to React lifecycle, but often don't need to</li>
</ul>
<p>See <a href="http://holmsand.github.io/reagent/">examples</a></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              26/27
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: presentation.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>(thanks!)</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="presentation.md">presentation.md</a>
            </aside>
            
            <aside class="page_number">
              27/27
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">ClojureScript and React</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">Schedule</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">Clojure</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">Warning</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">Poll</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">Clojure crash course</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">Clojure crash course</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8">Clojure crash course</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">Clojure crash course</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">Clojure crash course</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">Clojure crash course</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">Clojure crash course</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">Clojure crash course</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14">Clojure crash course</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">Clojure crash course</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
      
      <tr id="toc-row-16">
        <th><a href="#slide16">Clojure crash course</a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">Clojure crash course</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">Clojure crash course</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
      
      <tr id="toc-row-19">
        <th><a href="#slide19">Sequence abstraction</a></th>
        <td><a href="#slide19">19</a></td>
      </tr>
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">Mutable state</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">Mutable state</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">Mutable state</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
      
      <tr id="toc-row-23">
        <th><a href="#slide23">User interface</a></th>
        <td><a href="#slide23">23</a></td>
      </tr>
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">User interface</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
      <tr id="toc-row-25">
        <th><a href="#slide25">ClojureScript abstractions</a></th>
        <td><a href="#slide25">25</a></td>
      </tr>
      
      
      <tr id="toc-row-26">
        <th><a href="#slide26">ClojureScript abstractions</a></th>
        <td><a href="#slide26">26</a></td>
      </tr>
      
      
      <tr id="toc-row-27">
        <th><a href="#slide27">(thanks!)</a></th>
        <td><a href="#slide27">27</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Expos√©</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>